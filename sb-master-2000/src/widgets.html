<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../../ape-design-system.css">
        <title>Toggle Switch Example</title>

    </head>
    <body id="design-guide-body">
        <h2 class="heading-2">This is where we are going to have our first
            widget - we'll call it the "widget container-column" because it is a
            widget container</h2>
        <div class="widget-container-column">
            <div class="content-block panel--aA" id="individual">
                <div class="block-header vertical header-block-vibe-1">
                    <h3>Widget Container Column</h3>
                    <p>header-block-vibe-1</p>
                </div>

                <div class="block-body description-block">
                    <ul>
                        <li>block-body</li>
                        <li>description-block</li>
                        <li>Choose from other upgrades a la carte</li>
                    </ul></div>
                <div class="block-footer center">
                    <button class="btn btn--primary"
                        onclick="location.href='step4-apePay.html'">This is
                        btn--primary</button></div>
            </div>
            <div class="content-block panel--aA" id="team">
                <div class="block-header vertical header-block-vibe-1">
                    <h3>Team</h3>
                    <p>3.3 USDC / day</p>
                </div>
                <div class="block-body description-block">
                    <ul>
                        <li>Up to 20 bots</li>
                        <li>Up to 20 members</li>
                        <li>64 virtual cores</li>
                        <li>12-month error log history</li>
                        <li>Access to ApeCloud Simulation Plugin</li>
                    </ul></div>
                <div class="block-footer center">
                    <button class="btn btn--primary"
                        onclick="location.href='step4-apePay.html'">Select This
                        Plan</button></div>
            </div>
            <div class="content-block panel--aA" id="team">
                <div class="block-header vertical header-block-vibe-1">
                    <h3>Team</h3>
                    <p>3.3 USDC / day</p>
                </div>
                <div class="block-body description-block">
                    <ul>
                        <li>Up to 20 bots</li>
                        <li>Up to 20 members</li>
                        <li>64 virtual cores</li>
                        <li>12-month error log history</li>
                        <li>Access to ApeCloud Simulation Plugin</li>
                    </ul></div>
                <div class="block-footer center">
                    <button class="btn btn--primary"
                        onclick="location.href='step4-apePay.html'">Select This
                        Plan</button></div>
            </div>

        </div>

        <div class="toggle-container">
            <div class="toggle-switch"
                onclick="this.classList.toggle('active');">
                <div class="toggle-switch-circle"></div>
                <span class="toggle-label">Unlock more powerful processing
                    capabilities.</span>
                <span class="toggle-price">10 USDC / mo</span>
            </div>
        </div>



        <br><br><br>

        <h1 class="heading-1">Silverback Bots</h1>
        <div class="silverback-app-window" id="momentum-trader-bot">
            <button id="toggle-drag">Toggle Drag</button>
            <div class="bot" id="bot-instance-1">
                <div class="bot-header">
                    <button class="bot-btn close">✖</button>
                    <button class="bot-btn minimize">━</button>
                    <button class="bot-btn open">□</button>
                </div>
                <h1 class="heading-1">Momentum Trader Bot</h1>
                <p class="body-text">Running since May 31, 2024 at 10:00 AM</p>
                <p class="body-text">Molly's bot to evaluate and execute momentum trades.
                    Currently comparing MACD to MACD (EMA) to evaluate trade
                    favorability, in combination with RSI to determine when to
                    execute a trade.</p>
                <button class="btn--primary">BOT ACTIONS</button>
            </div>
            <div class="bot" id="bot-instance-2">
                <div class="bot-header">
                    <button class="bot-btn close">✖</button>
                    <button class="bot-btn minimize">━</button>
                    <button class="bot-btn open">□</button>
                </div>
                <h1>Momentum Trader Bot</h1>
                <p>Running since May 31, 2024 at 10:00 AM</p>
                <p>Molly's bot to evaluate and execute momentum trades.
                    Currently comparing MACD to MACD (EMA) to evaluate trade
                    favorability, in combination with RSI to determine when to
                    execute a trade.</p>
                    <button class="btn--primary">BOT ACTIONS</button>
            </div>
            <div class="bot" id="bot-instance-3">
                <div class="bot-header">
                    <button class="bot-btn close">✖</button>
                    <button class="bot-btn minimize">━</button>
                    <button class="bot-btn open">□</button>
                </div>
                <h1>Momentum Trader Bot</h1>
                <p>Running since May 31, 2024 at 10:00 AM</p>
                <p>Molly's bot to evaluate and execute momentum trades.
                    Currently comparing MACD to MACD (EMA) to evaluate trade
                    favorability, in combination with RSI to determine when to
                    execute a trade.</p>
                    <button class="btn--primary">BOT ACTIONS</button>
            </div>
        </div>


<!-- SILVERBACK DRAGABBLE BOT CODE -->
<script>
    let isDraggable = false;

    document.getElementById('toggle-drag').addEventListener('click', () => {
        isDraggable = !isDraggable;
        document.querySelectorAll('.bot').forEach(bot => {
            if (isDraggable) {
                bot.style.cursor = 'move';
                bot.onmousedown = function(event) {
                    let shiftX = event.clientX - bot.getBoundingClientRect().left;
                    let shiftY = event.clientY - bot.getBoundingClientRect().top;

                    function moveAt(pageX, pageY) {
                        const container = document.getElementById('momentum-trader-bot');
                        const containerRect = container.getBoundingClientRect();
                        const botRect = bot.getBoundingClientRect();

                        let newLeft = pageX - shiftX;
                        let newTop = pageY - shiftY;

                        // Ensure the bot stays within the container
                        if (newLeft < containerRect.left) newLeft = containerRect.left;
                        if (newTop < containerRect.top) newTop = containerRect.top;
                        if (newLeft + botRect.width > containerRect.right) newLeft = containerRect.right - botRect.width;
                        if (newTop + botRect.height > containerRect.bottom) newTop = containerRect.bottom - botRect.height;

                        bot.style.left = newLeft - containerRect.left + 'px';
                        bot.style.top = newTop - containerRect.top + 'px';
                    }

                    function onMouseMove(event) {
                        moveAt(event.pageX, event.pageY);
                    }

                    document.addEventListener('mousemove', onMouseMove);

                    bot.onmouseup = function() {
                        document.removeEventListener('mousemove', onMouseMove);
                        bot.onmouseup = null;
                    };
                };

                bot.ondragstart = function() {
                    return false;
                };
            } else {
                bot.style.cursor = 'default';
                bot.onmousedown = null;
                bot.ondragstart = null;
            }
        });
    });
    </script>
    <style>
        body {
            background-color: #f0f0f0;
        }

    </style>
    <script>
    function toggleSidebar() {
        document.getElementById('silverback-sidebar').classList.toggle('collapsed');
    }
</script>


    </body>
</html>
